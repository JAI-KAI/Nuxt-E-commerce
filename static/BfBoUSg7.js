import{h as m,c as d,a as e,D as w,E as c,G as p,v as a,H as g,t as h,o as f}from"./CoYGitEY.js";import{u as S,a as _}from"./DRc2IO-D.js";import"./3KGaiVR8.js";const k={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},I={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},E={class:"mt-2"},j={class:"flex items-center justify-between"},M={class:"text-sm"},P={class:"mt-2"},U={key:0,type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},B={key:1,type:"submit",class:"flex w-full justify-center rounded-md bg-teal-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-teal-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-teal-600"},V={__name:"login",setup(D){const{login:x}=S(),{addMessage:l}=_(),o=m(!0),s=m(),i=m(),n=m();n.value=JSON.parse(localStorage.getItem("userInfos"))||[];const v=()=>{o.value?b():y()},b=()=>{const u=n.value.filter(t=>t.userEmail===s.value);u.length==1?u[0].userPassWord===i.value?(x(s.value),l("登入成功")):l("密碼錯誤"):l("帳號信箱錯誤")},y=()=>{const u={userEmail:s.value,userPassWord:i.value};setTimeout(()=>{n.value.map(t=>t.userEmail).includes(s.value)?l("此帳號已註冊過"):(n.value.push(u),localStorage.setItem("userInfos",JSON.stringify(n.value)),o.value=!0,l("註冊成功 請登入"))},500)};return(u,t)=>(f(),d("div",k,[t[5]||(t[5]=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[e("img",{class:"mx-auto h-10 w-auto",src:"https://tailwindcss.com/plus-assets/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"}),e("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900"},"Sign in to your account")],-1)),e("div",I,[e("form",{onSubmit:w(v,["prevent"]),class:"space-y-6",action:""},[e("div",null,[t[3]||(t[3]=e("label",{for:"email",class:"block text-sm/6 font-medium text-gray-900"},"Email address",-1)),e("div",E,[c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>g(s)?s.value=r:null),type:"email",name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"},null,512),[[p,a(s)]])])]),e("div",null,[e("div",j,[t[4]||(t[4]=e("label",{for:"password",class:"block text-sm/6 font-medium text-gray-900"},"Password",-1)),e("div",M,[e("button",{onClick:t[1]||(t[1]=r=>o.value=!a(o)),type:"button",class:"font-semibold text-indigo-600 hover:text-indigo-500"},h(a(o)?"Go Sign up":"Go Sign in"),1)])]),e("div",P,[c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>g(i)?i.value=r:null),type:"password",name:"password",id:"password",pattern:".{6,8}",title:"密碼必須是 6 到 8 個字元",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"},null,512),[[p,a(i)]])])]),e("div",null,[a(o)?(f(),d("button",U," Signin ")):(f(),d("button",B," Signup "))])],32)])]))}};export{V as default};

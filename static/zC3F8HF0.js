import{h as m,C as h,B as I,c as d,a as e,D as S,E as c,G as g,n as l,H as p,I as _,t as k,o as f}from"./CmMUVE8C.js";import{u as E}from"./uleYHyfX.js";import{u as M,a as j}from"./iv6QuJzc.js";const B={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},C={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},P={class:"mt-2"},T={class:"flex items-center justify-between"},U={class:"text-sm"},D={class:"mt-2"},N={key:0,type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},O={key:1,type:"submit",class:"flex w-full justify-center rounded-md bg-teal-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-teal-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-teal-600"},L={__name:"login",setup(V){const{login:x}=E(),{addMessage:i}=j(),v=M("isLoggedIn"),s=m(!0),o=m(""),a=m(""),n=m();h(()=>{v.value&&I("/")}),n.value=JSON.parse(localStorage.getItem("userInfos"))||[];const b=()=>{s.value?y():w()},y=()=>{setTimeout(()=>{const u=n.value.filter(t=>t.userEmail===o.value);u.length==1?u[0].userPassWord===a.value?(x(o.value),i("登入成功")):i("密碼錯誤"):i("帳號信箱錯誤")},500)},w=()=>{const u={userEmail:o.value,userPassWord:a.value};setTimeout(()=>{n.value.map(t=>t.userEmail).includes(o.value)?i("此帳號已註冊過"):(n.value.push(u),localStorage.setItem("userInfos",JSON.stringify(n.value)),s.value=!0,i("註冊成功 請登入"))},500)};return(u,t)=>(f(),d("div",B,[t[5]||(t[5]=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[e("img",{class:"mx-auto h-10 w-auto",src:"https://tailwindcss.com/plus-assets/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"}),e("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900"},"Sign in to your account")],-1)),e("div",C,[e("form",{onSubmit:S(b,["prevent"]),class:"space-y-6",action:""},[e("div",null,[t[3]||(t[3]=e("label",{for:"email",class:"block text-sm/6 font-medium text-gray-900"},"Email address",-1)),e("div",P,[c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>p(o)?o.value=r:null),type:"email",name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"},null,512),[[g,l(o)]])])]),e("div",null,[e("div",T,[t[4]||(t[4]=e("label",{for:"password",class:"block text-sm/6 font-medium text-gray-900"},"Password",-1)),e("div",U,[e("button",{onClick:t[1]||(t[1]=r=>s.value=!l(s)),type:"button",class:_(["font-semibold",l(s)?"text-teal-600 hover:text-teal-500":"text-indigo-600 hover:text-indigo-500"])},k(l(s)?"去註冊":"去登入"),3)])]),e("div",D,[c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>p(a)?a.value=r:null),type:"password",name:"password",id:"password",pattern:".{6,8}",title:"密碼必須是 6 到 8 個字元",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"},null,512),[[g,l(a)]])])]),e("div",null,[l(s)?(f(),d("button",N," 登入 ")):(f(),d("button",O," 登出 "))])],32)])]))}};export{L as default};

import y from"./ByTHZTMA.js";import{_ as C}from"./DFmA13Kr.js";import{x as A,c as a,a as t,E as $,n as e,b as c,F as _,r as E,t as l,w as p,J as F,o as d,d as b}from"./CmMUVE8C.js";import{u as U}from"./_WGo_Wsm.js";import{u as g}from"./iv6QuJzc.js";const B={class:"max-w-3xl mx-auto p-6 bg-white shadow-md rounded-lg"},N={key:0},S=["src"],V={class:"flex-1"},j={class:"text-lg font-semibold"},D={class:"text-gray-500"},I={class:"flex items-center w-2/12 space-x-2"},J=["disabled","onClick"],L={class:"text-lg"},P=["disabled","onClick"],T={class:"w-1/12 text-right font-semibold"},q=["onClick"],z={class:"flex justify-between items-center mt-6 text-xl font-bold"},G={key:1,class:"text-center text-gray-500"},W={__name:"checkout",setup(H){const{minusAmount:h,addAmount:f,deleteItem:w,handleCheckout:k}=U(),n=g("currentUserCart"),r=g("currentUserEmail"),v=A(()=>n.value[r.value].reduce((u,s)=>u+s.price*s.amount,0));return(u,s)=>{const i=y,x=C;return d(),a(_,null,[t("div",B,[s[2]||(s[2]=t("h1",{class:"text-2xl font-bold mb-4"},"結帳頁面",-1)),Array.isArray(e(n)[e(r)])&&e(n)[e(r)].length>0?(d(),a("div",N,[t("ul",null,[(d(!0),a(_,null,E(e(n)[e(r)],o=>(d(),a("li",{key:o.id,class:"flex items-center w-full border-b py-4 space-x-3"},[t("img",{src:o.image,alt:"商品圖片",class:"w-1/12 h-16 object-contain rounded-lg mr-4"},null,8,S),t("div",V,[t("h2",j,l(o.title),1),t("p",D,"$"+l(o.price)+" x "+l(o.amount),1)]),t("div",I,[t("button",{class:"flex items-center p-2 bg-gray-200 hover:bg-gray-300 rounded cursor-pointer disabled:cursor-not-allowed",disabled:o.amount<=1,onClick:m=>e(h)(o)},[c(i,{name:"i-ic-round-minus",class:"text-lg"})],8,J),t("span",L,l(o.amount),1),t("button",{class:"flex items-center p-2 bg-gray-200 hover:bg-gray-300 rounded cursor-pointer disabled:cursor-not-allowed",disabled:o.amount>=10,onClick:m=>e(f)(o)},[c(i,{name:"i-ic-round-add",class:"text-lg"})],8,P)]),t("p",T,"$"+l((o.price*o.amount).toFixed(2)),1),t("button",{class:"flex item-center w-1/12 text-red-500 rounded-full hover:text-red-600 cursor-pointer",onClick:m=>e(w)(o)},[c(i,{name:"i-material-symbols-delete-rounded",class:"text-2xl"})],8,q)]))),128))]),t("div",z,[s[0]||(s[0]=t("span",null,"總金額：",-1)),t("span",null,"$"+l(e(v).toFixed(2)),1)]),c(x,{to:"/orderComplete",class:"block text-center mt-6 w-full bg-blue-600 text-white p-3 rounded hover:bg-blue-700 transition cursor-pointer",onClick:e(k)},{default:p(()=>s[1]||(s[1]=[b(" 確認結帳 ")])),_:1},8,["onClick"])])):(d(),a("p",G,"購物車內沒有商品"))]),$(c(x,{to:"/",class:"max-w-3xl mx-auto block text-center mt-6 w-full bg-blue-600 text-white p-3 rounded hover:bg-blue-700 transition cursor-pointer"},{default:p(()=>s[3]||(s[3]=[b(" 前往商品頁面進行選購 ")])),_:1},512),[[F,Array.isArray(e(n)[e(r)])&&e(n)[e(r)].length===0]])],64)}}};export{W as default};

import{u as s,a as o}from"./FhWWR_6m.js";const d=()=>{const{addMessage:u}=o(),a=s("currentUserEmail"),t=s("currentUserCart",()=>({}));{const e=localStorage.getItem("currentUserCart");e&&(t.value=JSON.parse(e))}return{addToCart:e=>{t.value[a.value]||(t.value[a.value]=[]);const r=t.value[a.value].find(n=>n.id===e.id);r?r.amount>=10?u("商品數量超過限制"):(r.amount+=1,localStorage.setItem("currentUserCart",JSON.stringify(t.value)),u("成功加入購物車")):(t.value[a.value].push({...e,amount:1}),localStorage.setItem("currentUserCart",JSON.stringify(t.value)),u("成功加入購物車"))},minusAmount:e=>{e.amount>1&&(e.amount-=1,localStorage.setItem("currentUserCart",JSON.stringify(t.value)))},addAmount:e=>{e.amount<10&&(e.amount+=1,localStorage.setItem("currentUserCart",JSON.stringify(t.value)))},deleteItem:e=>{t.value[a.value]=t.value[a.value].filter(r=>r.id!==e.id),localStorage.setItem("currentUserCart",JSON.stringify(t.value))}}};export{d as u};
